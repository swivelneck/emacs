<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="English" xml:lang="English">
<head>
<!-- 2025-04-12 Sat 23:49 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emacs Overview</title>
<meta name="author" content="Allan Neil" />
<meta name="generator" content="Org Mode" />
<style type="text/css">
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Emacs Overview</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgee8f5b3">1. Emacs overview</a>
<ul>
<li><a href="#org8b8c540">1.1. Purpose</a></li>
<li><a href="#orgf3af181">1.2. Why bother?</a></li>
</ul>
</li>
<li><a href="#org2a1b05e">2. Reference Emacs Environment Snapshot</a></li>
<li><a href="#orgcb1ae5e">3. Installing Doom Emacs and Dependencies:</a>
<ul>
<li><a href="#orged51d98">3.1. Installing Doom Dependencies</a></li>
<li><a href="#org2b2f9ea">3.2. Installing Emacs</a></li>
<li><a href="#org01ad2cd">3.3. Installing Doom</a></li>
</ul>
</li>
<li><a href="#orgaeb0409">4. Configuration of Doom Emacs</a>
<ul>
<li><a href="#orgec0e2a6">4.1. Setting $PATH</a></li>
<li><a href="#orgeb68db2">4.2. Doom command - very important</a></li>
<li><a href="#org7c17490">4.3. Configuring Github and Magit</a>
<ul>
<li><a href="#org86ae2dd">4.3.1. Configuring Github</a></li>
<li><a href="#org98780fe">4.3.2. Configuring Magit in Doom Emacs</a></li>
<li><a href="#org3922aaa">4.3.3. Configuring PlantUML in Doom Emacs</a></li>
<li><a href="#orgffc5a6a">4.3.4. Configuring GPTel for AI LLM integration</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-orgee8f5b3" class="outline-2">
<h2 id="orgee8f5b3"><span class="section-number-2">1.</span> Emacs overview</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org8b8c540" class="outline-3">
<h3 id="org8b8c540"><span class="section-number-3">1.1.</span> Purpose</h3>
<div class="outline-text-3" id="text-1-1">
<p>
I love Emacs!  However problems arise when I have been away from it for too long and I forget how to use it or when I upgrade my computer and am forced to relearn how to install and set it up again.
</p>

<p>
The purpose of this repository and set of documents is to provide a documented reminder of:
</p>
<ul class="org-ul">
<li>Which Emacs packages I use</li>
<li>How to install Emacs</li>
<li>How to install additional Emacs packages used</li>
<li>High level how-to instructions for using Emacs and packages</li>
</ul>
</div>
</div>
<div id="outline-container-orgf3af181" class="outline-3">
<h3 id="orgf3af181"><span class="section-number-3">1.2.</span> Why bother?</h3>
<div class="outline-text-3" id="text-1-2">
<p>
Configuring Emacs is not for the feint of heart.  It fits into a class of problems which could be called non-trivial.
So why bother?
Why not just use VS Code or any number of easier to install and use alternatives?
</p>

<p>
Fair questions.  The answer is simply that Emacs is addictive once you get used to it, which admittedly can take a long time.
</p>

<p>
One measure of a good tool of any kind is to what extent does the distinction between user and tool disappear while they are using it.  My experience has been that over time Emacs usage gets so intuitively embedded into the muscle memory of my fingers as to seem part of me.
</p>
</div>
</div>
</div>
<div id="outline-container-org2a1b05e" class="outline-2">
<h2 id="org2a1b05e"><span class="section-number-2">2.</span> Reference Emacs Environment Snapshot</h2>
<div class="outline-text-2" id="text-2">
<p>
Below is a snapshot of my environment..
</p>
<ul class="org-ul">
<li>Macbook Pro laptop 16 inch 2023, M2 Max chipset</li>
<li>Mac OS Sequoia 15.3.2</li>
<li>iTerm2 terminal
<ul class="org-ul">
<li>ZSH Oh My Zsh with powerlevel10k theme</li>
</ul></li>
<li>Emacs version 29.1</li>
<li>Doom Emacs version 3.0</li>
</ul>
</div>
</div>
<div id="outline-container-orgcb1ae5e" class="outline-2">
<h2 id="orgcb1ae5e"><span class="section-number-2">3.</span> Installing Doom Emacs and Dependencies:</h2>
<div class="outline-text-2" id="text-3">
<p>
Doom Emacs has an excellent Getting Started Guide which can be used for this:
<a href="https://github.com/doomemacs/doomemacs/blob/master/docs/getting_started.org">https://github.com/doomemacs/doomemacs/blob/master/docs/getting_started.org</a>
</p>
</div>
<div id="outline-container-orged51d98" class="outline-3">
<h3 id="orged51d98"><span class="section-number-3">3.1.</span> Installing Doom Dependencies</h3>
<div class="outline-text-3" id="text-3-1">
<ul class="org-ul">
<li>ripgrep</li>
<li>coreutills fd (optional find )</li>
<li>Xcode (recommended if using Emacs for dev)</li>
</ul>
<p>
See <a href="https://github.com/doomemacs/doomemacs/blob/master/docs/getting_started.org#with-homebrew">https://github.com/doomemacs/doomemacs/blob/master/docs/getting_started.org#with-homebrew</a> for installation instructions using Homebrew.
</p>
</div>
</div>
<div id="outline-container-org2b2f9ea" class="outline-3">
<h3 id="org2b2f9ea"><span class="section-number-3">3.2.</span> Installing Emacs</h3>
<div class="outline-text-3" id="text-3-2">
<p>
The Doom Getting Started Guide recommends emacs-mac first, emacs-plus second, and thirdly just emacs.
See <a href="https://github.com/doomemacs/doomemacs/blob/master/docs/getting_started.org#with-homebrew">https://github.com/doomemacs/doomemacs/blob/master/docs/getting_started.org#with-homebrew</a> instructions,
For Mac either Homebrew or MacPorts can be used.  I prefer Homebrew.
I follow the instructions for the first recommendation, emacs-mac.
</p>
</div>
</div>
<div id="outline-container-org01ad2cd" class="outline-3">
<h3 id="org01ad2cd"><span class="section-number-3">3.3.</span> Installing Doom</h3>
<div class="outline-text-3" id="text-3-3">
<p>
After installing the dependencies and Emacs itself, finally Doom can be installed, again following the Getting Started Guide as linked above.
        git clone <a href="https://github.com/hlissner/doom-emacs">https://github.com/hlissner/doom-emacs</a> ~/.emacs.d
        ~/.emacs.d/bin/doom install
</p>
</div>
</div>
</div>
<div id="outline-container-orgaeb0409" class="outline-2">
<h2 id="orgaeb0409"><span class="section-number-2">4.</span> Configuration of Doom Emacs</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-orgec0e2a6" class="outline-3">
<h3 id="orgec0e2a6"><span class="section-number-3">4.1.</span> Setting $PATH</h3>
<div class="outline-text-3" id="text-4-1">
<p>
Since I am using ZSH shell, the hidden .ZSHRC file is edited to include both the Emacs bin and Doom paths as follows:
</p>
<ul class="org-ul">
<li>Emacs - export PATH="/opt/homebrew/Cellar/emacs-mac/emacs-29.1-mac-10.0/Emacs.app/Contents/MacOS:$PATH"</li>
<li>Doom - export PATH="$HOME/.emacs.d/bin:$PATH"</li>
</ul>
</div>
</div>
<div id="outline-container-orgeb68db2" class="outline-3">
<h3 id="orgeb68db2"><span class="section-number-3">4.2.</span> Doom command - very important</h3>
<div class="outline-text-3" id="text-4-2">
<p>
There is a doom CLI tool which is used to install, update and maintain doom.
Full explanation of this command and it's options can be found here: <a href="https://github.com/doomemacs/doomemacs/blob/master/docs/getting_started.org#the-bindoom-utility">https://github.com/doomemacs/doomemacs/blob/master/docs/getting_started.org#the-bindoom-utility</a>
Excerpted here for reference (quote)
</p>
<ul class="org-ul">
<li><b>doom sync</b>: This synchronizes your config with Doom Emacs. It ensures that needed packages are installed, orphaned packages are removed and necessary metadata correctly generated. Run this whenever you modify your doom! block or packages.el file. You’ll need doom sync -u if you override the recipe of package installed by another module.</li>
<li><b>doom upgrade</b>: Updates Doom Emacs (if available) and all its packages.</li>
<li><b>doom env</b>: (Re)generates an “envvar file”, which is a snapshot of your shell environment that Doom loads at startup. If your app launcher or OS launches Emacs in the wrong environment you will need this. <b><b>This is required for GUI Emacs users on MacOS.</b></b></li>
<li><b>doom doctor</b>: If Doom misbehaves, the doc will diagnose common issues with your installation, system and environment.</li>
<li><p>
<b>doom purge</b>: Over time, the repositories for Doom’s plugins will accumulate. Run this command from time to time to delete old, orphaned packages, and with the -g switch to compact existing package repos.
(unquote)
</p>

<p>
It's a good idea to run both "Doom Sync" and "Doom Doctor" after installation to confirm everything is working correctly.
</p></li>
</ul>
</div>
</div>
<div id="outline-container-org7c17490" class="outline-3">
<h3 id="org7c17490"><span class="section-number-3">4.3.</span> Configuring Github and Magit</h3>
<div class="outline-text-3" id="text-4-3">
<p>
Magit is and included package with Doom and is an awesome interface to Git.
</p>
</div>
<div id="outline-container-org86ae2dd" class="outline-4">
<h4 id="org86ae2dd"><span class="section-number-4">4.3.1.</span> Configuring Github</h4>
<div class="outline-text-4" id="text-4-3-1">
<p>
Magit will require access to Github.  I use an SSH key for this.
Instructions for this set up can be found here: <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account">https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account</a>
</p>
</div>
</div>
<div id="outline-container-org98780fe" class="outline-4">
<h4 id="org98780fe"><span class="section-number-4">4.3.2.</span> Configuring Magit in Doom Emacs</h4>
<div class="outline-text-4" id="text-4-3-2">
<p>
After setting up SSH access to Github, setting up Magit should be straight forward.
</p>

<p>
Pressing Cmd-X will bring up the M-x prompt where there are 3 magit commands as follows:
</p>
<ul class="org-ul">
<li><b>magit-remote-add</b> to add a remote (github)</li>
<li><b>magit-remote-configure</b> to configure an existing remote (github)</li>
<li><b>magit-remote-remove</b> to remove an existing remote (github)</li>
</ul>
</div>
</div>
<div id="outline-container-org3922aaa" class="outline-4">
<h4 id="org3922aaa"><span class="section-number-4">4.3.3.</span> Configuring PlantUML in Doom Emacs</h4>
<div class="outline-text-4" id="text-4-3-3">
<p>
There are a number of different packages available for Emacs.  Even though the resulting diagrams have a kind of "old school" look to them, the package I prefer to use is PlantUML due to its' maturity and breadth of diagram types.
There are 3 key steps to configuring PlantUML in Doom Emacs.
</p>
</div>
<ol class="org-ol">
<li><a id="org0d41a90"></a>Installing Java<br />
<div class="outline-text-5" id="text-4-3-3-1">
<p>
The PlantUML package requires the Java run-time.
brew install openjdk@23 will install version 23 of Java.
</p>
</div>
</li>
<li><a id="org563fd97"></a>Enabling the package in the Doom Emacs<br />
<div class="outline-text-5" id="text-4-3-3-2">
<p>
There are 3 configuration files which are used to customize Doom Emacs which are located in the ".doom.d" subdirectory which will be located under home directory.
Tip: Use Shift+Command+. to show hidden files
</p>
<ul class="org-ul">
<li>Init.el for intitialization options</li>
<li>Config.el for configuration</li>
<li>Packages. el for packages</li>
</ul>

<p>
PlantUML is enabled by uncommenting (removing the ;; characters in from  of ) plantuml in the init.el file.
This basically tells Doom Emacs to load that package at startup.
</p>
</div>
</li>
<li><a id="orgeaebf75"></a>Downloading the PlantJAR<br />
<div class="outline-text-5" id="text-4-3-3-3">
<p>
In Doom Emacs, press Command-X and enter PlantUML to see a list of available PlantUML commands.
Select command plantuml-download-jar to download the JAR (java archive) for PlantUML
</p>
</div>
</li>
</ol>
</div>
<div id="outline-container-orgffc5a6a" class="outline-4">
<h4 id="orgffc5a6a"><span class="section-number-4">4.3.4.</span> Configuring GPTel for AI LLM integration</h4>
<div class="outline-text-4" id="text-4-3-4">
<p>
GPTel is a great package for integration Emacs with AI LLM models.
See <a href="https://github.com/karthink/gptel">https://github.com/karthink/gptel</a> for an overview of this package.
GPTel can be configured to work with a long list of LLM's.  These configuration instructions will focus on ChatGPT but the above link can be used for instructions for other models as needed.
</p>
</div>
<ol class="org-ol">
<li><a id="org09f7c1b"></a>Packages.el<br />
<div class="outline-text-5" id="text-4-3-4-1">
<p>
Edit packages.el and add the following line:
(package! gptel :recipe (:nonrecursive t))
</p>
</div>
</li>
<li><a id="org78da149"></a>Config.el<br />
<div class="outline-text-5" id="text-4-3-4-2">
<p>
Edit config.el and add the following:
(use-package! gptel
 :config
 (setq! gptel-api-key "your key"))
</p>

<p>
Note that the ChatGPT api key is required.
For security purposes, especially if the config.el file will be put on Github for version control, the API key can be provided by via "authinfo".
Details for this can be found here <a href="https://github.com/karthink/gptel?tab=readme-ov-file#optional-securing-api-keys-with-authinfo">https://github.com/karthink/gptel?tab=readme-ov-file#optional-securing-api-keys-with-authinfo</a>
</p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2025-04-06 Sun 00:00</p>
<p class="author">Author: Allan Neil</p>
<p class="date">Created: 2025-04-12 Sat 23:49</p>
</div>
</body>
</html>
